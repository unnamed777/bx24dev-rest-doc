<html>
        <head>
            <title>pull.application.event.add</title>
            <link href="style.css" type="text/css" rel="stylesheet"/>
        </head>
        <body>
        <h1 class="title">pull.application.event.add <a class="original-doc-link" href="https://dev.1c-bitrix.ru/rest_help/pull_push/pull_application_event_add.php" target="_blank">↗︎</a></h1>
        <div class="content">
            
								<p id="tab-panel-title"></p> 

<p class="note_blue">
Scope: <span class="bg_blue">pull</span> Права на выполнение: <span class="bg_orange">для всех</span>
</p>

<div class="tab">

<h3 class="tab-title">Описание</h3>

<p>Метод для отправки событий в RT-канал приложения.</p>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Параметры</h3>

<table width="100%" class="tnormal"> 
  <tbody> 
    <tr> 	<th width="27%">Параметр</th> 	<th>Пример</th>  <th width="8%">Обязательный</th> <th>Описание</th> </tr>
   
    <tr> 	<td>COMMAND 	</td> 	<td>'test' </td> <td>Да</td> <td>Тип события, строка.</td></tr>
     
    <tr> 	<td>PARAMS</td> 	<td>{JSON Object}</td> <td>Нет</td> <td>Произвольный JSON массив с данными.</td></tr>
   
    <tr> 	<td>MODULE_ID</td> 	<td>'application'</td> <td>Нет</td> <td>Если отправляются команды из разных подсистем приложения, можно это указать через модуль.</td></tr>
   
    <tr> 	<td>USER_ID</td> 	<td>1 или [1,2,3]</td> <td>Нет</td> <td>Если не указывать USER_ID, то данные будут отправлены в общий канал. Если указать ID пользователя, то данные будут отправлены в приватный канал.<br>
Администратор может отправлять одновременно нескольким пользователям и в общий канал, пользователь без прав - только себе или в общий канал.</td></tr>
   
   </tbody>
 </table>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Примеры</h3>
 	 	 	
<p><strong>JavaScript</strong></p>

<pre class="syntax" rel="example">BX24.callMethod('pull.application.event.add', {
	'COMMAND': 'test',
	'PARAMS': '{"param1":"value1"}',
}, function(result){
	if(result.error())
	{
		console.error(result.error().ex);
	}
	else
	{
		console.log(result.data());
	}
});</pre>

<p><strong>PHP</strong></p>

<pre class="syntax">$result = restCommand('pull.application.event.add', [
	'COMMAND': 'test',
	'PARAMS': ['param1' =&gt; 'value1'],
], $_REQUEST["auth"]);</pre>

<h4>Пример ответа</h4>

<pre class="syntax">{
	"result": true
}</pre>

<h4>Пример ответа при возникновения ошибки</h4>

<pre class="syntax">{
	"error": "WRONG_AUTH_TYPE",
	"error_description": "Get access to application config available only for application authorization."
}</pre>

<p>Ключи:</p>

<ul>
<li><strong>error</strong> - код возникшей ошибки</li>
<li><strong>error_description</strong> - краткое описание возникшей ошибки</li> 
 </ul>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Возможные коды ошибок</h3>

<table width="100%" class="tnormal"> 
  <tbody> 
    <tr> 	<th width="27%">Код</th> 	<th>Описание</th></tr>
   
    <tr> 	<td>COMMAND_ERROR </td> 	<td>Формат поля MODULE_ID не верный. Разрешены английские буквы в смешанном регистре, цифры, символ подчеркивания, точка и тире.</td></tr>
   
    <tr> 	<td>MODULE_ID_ERROR	</td> 	<td>Формат поля MODULE_ID не верный. Разрешены английские буквы в нижнем регистре, цифры, точка и знак подчеркивания.</td></tr>
   
    <tr> 	<td>USER_ID_ACCESS_ERROR</td> 	<td>Указывать произвольных пользователей может только пользователь с правами администратора.</td></tr>
   
    <tr> 	<td>PARAMS_ERROR</td> 	<td>Передан не корректный JSON обьект.</td></tr>
   
    <tr> 	<td>WRONG_AUTH_TYPE</td> 	<td>Метод можно использовать только в рамках <a class="link" href="https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=99&amp;LESSON_ID=2486&amp;LESSON_PATH=8771.5380.5379.2486" title="" target="_blank">OAuth 2.0</a>.</td></tr>
      
   </tbody>
 </table>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Смотрите также</h3>

<ul>
<li><a class="link" href="https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=99&amp;CHAPTER_ID=012565" title="" target="_blank">Интерактивность в приложениях</a></li>
 </ul>

</div>

<!------->

<br><br>							
        </div>
        </body>
        </html>