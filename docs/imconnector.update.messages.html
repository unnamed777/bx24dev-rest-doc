<html>
        <head>
            <title>imconnector.update.messages</title>
            <link href="style.css" type="text/css" rel="stylesheet"/>
        </head>
        <body>
        <h1 class="title">imconnector.update.messages <a class="original-doc-link" href="https://dev.1c-bitrix.ru/rest_help/imconnector/methods/imconnector_update_messages.php" target="_blank">↗︎</a></h1>
        <div class="content">
            
								<p>Метод обновления сообщений в ОЛ.</p>

<h4>Параметры</h4>


<table width="100%" class="tnormal"> 
  <tbody> 
    <tr> 	<th width="27%">Параметр</th> 	<th>Описание</th> <th width="8%">С версии</th></tr>
   
    <tr> 	<td>CONNECTOR </td> 	<td>ID коннектора (который был указан при регистрации обработчика).
</td> <td></td></tr>   

    <tr> 	<td>LINE</td> 	<td>ID открытой линии.
</td> <td></td></tr>   

    <tr> 	<td>MESSAGES</td> 	<td>Массив сообщений, где сообщения описываются массивом следующего формата:

<pre class="syntax">array(
	array(
		//Массив описания пользователя
		'user' =&gt; array(
			'id',//ID пользователя во внешней системе *
			'last_name',//Фамилия
			'name',//Имя
			'picture' =&gt;
				array(
					'url'//Ссылка на аватарку пользователя, доступную для портала
				),
			'url',//Ссылка на профиль пользователя
			'sex',//Пол. Допустимо male и female
		),
		//Массив описания сообщения
		'message' =&gt; array(
			'id', //ID сообщения во внешней системе.*
			'date', //Время сообщения в формате timestamp *
			'text', //Текст сообщения. Должен быть указан элемент text или files. 
					//Допустимое форматирование (BB коды) описаны 
					//здесь: https://dev.1c-bitrix.ru/learning/course/?COURSE_ID=93&amp;LESSON_ID=7679
			'files' =&gt; array(//Массив описаний файлов, где каждый файл описывается 
							//массивом, со ссылкой, которая доступна порталу
				array('url'),
				array('url'),
				 ...
			)
		),
		//Массив описания чата
		'chat' =&gt; array(
			'id',//ID чата во внешней системе *
			'name', //Имя чата во внешней системе
			'url', //Ссылка на чат во внешней системе
		),
	),
	array(...),
);
</pre>

</td> <td></td></tr>   

   </tbody>
 </table>							
        </div>
        </body>
        </html>