<html>
        <head>
            <title>pull.application.push.add</title>
            <link href="style.css" type="text/css" rel="stylesheet"/>
        </head>
        <body>
        <h1 class="title">pull.application.push.add <a class="original-doc-link" href="https://dev.1c-bitrix.ru/rest_help/pull_push/pull_application_push_add.php" target="_blank">↗︎</a></h1>
        <div class="content">
            
								<p id="tab-panel-title"></p> 

<p class="note_blue">
Scope: <span class="bg_blue">pull</span> Права на выполнение: <span class="bg_orange">администратор</span>
</p>

<div class="tab">

<h3 class="tab-title">Описание</h3>

<p>Метод для отправки push-уведомления на мобильное устройство в рамках приложения Битрикс24.</p>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Параметры</h3>

<table width="100%" class="tnormal"> 
  <tbody> 
    <tr> 	<th width="20%">Параметр</th>  <th width="8%">Пример</th>	 <th width="8%">Обязательный</th> <th>Описание</th></tr>
   
    <tr> 	<td>USER_ID</td> 	<td>1 или [1,2,3]</td> <td>Да 	</td> <td>Идентификаторы пользователей получателей push-уведомлений.</td></tr>
   
    <tr> 	<td>TEXT</td> 	<td>'Hello, world!'</td> <td>Нет 	</td> <td>Произвольный текст.</td></tr>
   
    <tr> 	<td>AVATAR</td> 	<td>'https://files.shelenkov.com/images/avatar-ivanov.jpg' </td> <td>Нет</td> <td>Ссылка на изображение.</td></tr>
   
   </tbody>
 </table>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Примеры</h3>
<p><strong>JavaScript</strong></p>

<pre class="syntax" rel="example">BX24.callMethod('pull.application.push.add', {
	'USER_ID': [1,2,3],
	'TEXT': 'Hello, world!',
	'AVATAR': 'https://files.shelenkov.com/images/avatar-ivanov.jpg',
}, function(result){
	if(result.error())
	{
		console.error(result.error().ex);
	}
	else
	{
		console.log(result.data());
	}
});</pre>

<p><strong>PHP</strong></p>
<pre class="syntax">$result = restCommand('pull.application.push.add', [
	'USER_ID': [1,2,3],
	'TEXT': 'Hello, world!',
	'AVATAR': 'https://files.shelenkov.com/images/avatar-ivanov.jpg',
], $_REQUEST["auth"]);	</pre>

<h4>Пример ответа</h4>

<pre class="syntax">{
	"result": true
}</pre>

<h4>Пример ответа при возникновения ошибки</h4>

<pre class="syntax">{
	"error": "WRONG_AUTH_TYPE",
	"error_description": "Send push notifications available only for application authorization."
}</pre>

<p>Ключи:</p>

<ul>
<li><strong>error</strong> - код возникшей ошибки</li>
<li><strong>error_description</strong> - краткое описание возникшей ошибки</li> 
 </ul>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Возможные коды ошибок</h3>

<table width="100%" class="tnormal"> 
  <tbody> 
    <tr> 	<th width="27%">Код</th> 	<th>Описание</th></tr>
   
    <tr> 	<td>TEXT_ERROR </td> 	<td>Не передан текст сообщения.</td></tr>
   
    <tr> 	<td>EMPTY_APP_NAME 	</td> 	<td>Ошибка возникает если у вашего приложения не задано название.</td></tr>
   
    <tr> 	<td>ACCESS_ERROR </td> 	<td>Метод может использовать только пользователь с правами администратора.</td></tr>
   
    <tr> 	<td>WRONG_AUTH_TYPE</td> 	<td>Метод можно использовать только в рамках <a class="link" href="https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=99&amp;LESSON_ID=2486&amp;LESSON_PATH=8771.5380.5379.2486" title="" target="_blank">OAuth 2.0</a>.</td></tr>
      
   </tbody>
 </table>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Смотрите также</h3>

<ul>
<li><a class="link" href="https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=99&amp;CHAPTER_ID=012565" title="" target="_blank">Интерактивность в приложениях</a></li>
 </ul>

</div>

<!------->

<br><br>							
        </div>
        </body>
        </html>