<html>
        <head>
            <title>user.current</title>
            <link href="style.css" type="text/css" rel="stylesheet"/>
        </head>
        <body>
        <h1 class="title">user.current <a class="original-doc-link" href="https://dev.1c-bitrix.ru/rest_help/users/user_current.php" target="_blank">↗︎</a></h1>
        <div class="content">
            
								<p class="note">Перечень полей пользователей Битрикс24, который будет получен в результате выполнения метода, зависит от скоупа приложения/вебхука. Подробности о доступе к данным пользователей можно узнать в <a class="link" href="/rest_help/users/index.php">статье</a>. </p>

<p>Получение информации о 
		<span class="learning-lesson-detail-block js-detail-info-block">
			<span class="learning-lesson-detail-word js-detail-info-word">текущем</span>
			<span class="learning-lesson-detail-body js-detail-info-body">
				<span class="learning-lesson-detail-body-inner  js-detail-info-body-inner">
                    <button class="learning-lesson-detail-close-button  js-detail-close-button" type="button"></button>
                    Тот чей токен вы использовали при вызове рест. Если вы используете сохраненный админский токен - то выведется администратор, если используете токен, который приходит в POST-запросе во фрейм приложения, то будет пользователь, который зашел в приложение
                </span>
			</span>
		</span>
		 пользователе.</p>

<h4>Параметры</h4>
<p>Метод параметров не имеет. Однако, сделав rest запрос с использованием данных из $_REQUEST к домену DOMAIN и добавив AUTH_ID к запросу для доступа к Битрикс24, можно узнать какой пользователь открыл страницу в контексте Битрикс24.</p>

<p><b>Вызов</b></p>
<pre class="syntax" rel="example">BX24.callMethod('user.current', {}, function(res){
	alert('Привет, ' + res.data().NAME + '!');
});</pre>

<p><b>Запрос</b> (xml для наглядности ответа)</p>

<pre class="syntax">https://my.bitrix24.ru/rest/user.current.xml?auth=7c9d8f00ea0ddd9e02cab3eb2b3bd0d1</pre>

<p><b>Ответ</b></p>
<pre class="syntax">&lt;response&gt;
	&lt;result&gt;
		&lt;ID&gt;1&lt;/ID&gt;
		&lt;ACTIVE&gt;1&lt;/ACTIVE&gt;
		&lt;EMAIL&gt;sigurd@example.com&lt;/EMAIL&gt;
		&lt;NAME&gt;Одмин&lt;/NAME&gt;
		&lt;LAST_NAME&gt;
		&lt;SECOND_NAME&gt;
		&lt;PERSONAL_GENDER&gt;
		&lt;PERSONAL_PROFESSION&gt;
		&lt;PERSONAL_WWW&gt;
		&lt;PERSONAL_BIRTHDAY&gt;1955-04-10T00:00:00+03:00&lt;/PERSONAL_BIRTHDAY&gt;
		&lt;PERSONAL_PHOTO&gt;/upload/main/80c/44169_C5_PrimalWaterE500CC.jpg&lt;/PERSONAL_PHOTO&gt;
		&lt;PERSONAL_ICQ&gt;
		&lt;PERSONAL_PHONE&gt;
		&lt;PERSONAL_FAX&gt;
		&lt;PERSONAL_MOBILE&gt;
		&lt;PERSONAL_PAGER&gt;
		&lt;PERSONAL_STREET&gt;
		&lt;PERSONAL_CITY&gt;
		&lt;PERSONAL_STATE&gt;
		&lt;PERSONAL_ZIP&gt;
		&lt;PERSONAL_COUNTRY&gt;0&lt;/PERSONAL_COUNTRY&gt;
		&lt;WORK_COMPANY&gt;
		&lt;WORK_POSITION&gt;
		&lt;UF_DEPARTMENT&gt;<item>128</item>&lt;/UF_DEPARTMENT&gt;
		&lt;UF_INTERESTS&gt;
		&lt;UF_SKILLS&gt;
		&lt;UF_WEB_SITES&gt;
		&lt;UF_XING&gt;
		&lt;UF_LINKEDIN&gt;
		&lt;UF_FACEBOOK&gt;
		&lt;UF_TWITTER&gt;
		&lt;UF_SKYPE&gt;
		&lt;UF_DISTRICT&gt;
		&lt;UF_PHONE_INNER&gt;
	&lt;/result&gt;
&lt;/response&gt;</pre><br><br>							
        </div>
        </body>
        </html>