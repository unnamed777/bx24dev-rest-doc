<html>
        <head>
            <title>disk.storage.uploadfile</title>
            <link href="style.css" type="text/css" rel="stylesheet"/>
        </head>
        <body>
        <h1 class="title">disk.storage.uploadfile <a class="original-doc-link" href="https://dev.1c-bitrix.ru/rest_help/disk/storage/disk_storage_uploadfile.php" target="_blank">↗︎</a></h1>
        <div class="content">
            
								<p id="tab-panel-title"></p> 

<p class="note_blue">
Scope: <span class="bg_blue">disk</span> Права на выполнение: <span class="bg_orange">для всех</span>
</p>

<div class="tab">

<h3 class="tab-title">Описание</h3>
<pre class="syntax">disk.storage.uploadfile</pre>

<p>Загружает новый файл в корне хранилища.</p>

<p>В случае успеха возвращает структуру, аналогичную приведенной в <a class="link" href="/rest_help/disk/file/disk_file_get.php">disk.file.get</a>.</p>

<h4>Пример ответа:</h4>
<pre class="syntax">"result": {
	"ID": "10",
	"NAME": "2511.jpg",
	"CODE": null,
	"STORAGE_ID": "4",
	"TYPE": "file",
	"PARENT_ID": "8",
	"DELETED_TYPE": "0",
	"CREATE_TIME": "2015-04-24T10:41:51+03:00",
	"UPDATE_TIME": "2015-04-24T15:52:43+03:00",
	"DELETE_TIME": null,
	"CREATED_BY": "1",
	"UPDATED_BY": "1",
	"DELETED_BY": "0",
	"DOWNLOAD_URL": "https://test.bitrix24.ru/disk/downloadFile/10/?&amp;ncc=1&amp;filename=2511.jpg&amp;auth=******",
	"DETAIL_URL": "https://test.bitrix24.ru/workgroups/group/3/disk/file/2511.jpg"
}

</pre>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Параметры</h3>

<table class="tnormal" width="100%">
	<tbody>
		<tr>
			<th width="15%">Параметр</th>
			<th>Описание</th>
		</tr>
<tr>
<td>id</td>
<td>Идентификатор хранилища.</td>
</tr>

<tr>
<td>fileContent</td>
<td>Аналогично 'DETAIL_PICTURE' в примере <a class="link" href="/rest_help/js_library/rest/files.php">Обработка файлов</a>.</td>
</tr>

<tr>
<td>data</td>
<td>Массив, описывающий файл. Обязательное поле NAME - имя нового файла.</td>
</tr>

<tr>
<td>generateUniqueName</td>
<td>Необязательный, по умолчанию <i>false</i>. При указании <i>true</i>, для загружаемого файла будет уникализировано имя, добавлением 
		<span class="learning-lesson-detail-block js-detail-info-block">
			<span class="learning-lesson-detail-word js-detail-info-word">суффикса (1), (2)</span>
			<span class="learning-lesson-detail-body js-detail-info-body">
				<span class="learning-lesson-detail-body-inner  js-detail-info-body-inner">
                    <button class="learning-lesson-detail-close-button  js-detail-close-button" type="button"></button>
                    Пример: <br><br>avatar (1).jpg<br> avatar (2).jpg
                </span>
			</span>
		</span>
		 и т.п.</td>
</tr>

<tr>
<td>rights</td>
<td>Необязательный, по умолчанию пустой массив. Массив прав доступа на загружаемый файл.</td>
</tr>
</tbody>
</table>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Пример</h3>




<p class="note">Обратите внимание, что список доступных идентификаторов `TASK_ID` для установки прав можно получить rest-методом <a class="link" href="/rest_help/disk/permissions/disk_rights_gettasks.php">disk.rights.getTasks</a>.</p>


<pre class="syntax">BX24.callMethod(
	"disk.storage.uploadFile",
	{
		id: 4,
		data: {
			NAME: "avatar.jpg"
		},
		fileContent: document.getElementById('test_file_input'),
		generateUniqueName: true,
		rights: [
			{
				TASK_ID: 42,
				ACCESS_CODE: 'U35' //доступ для пользователя с ID=35, для получения названия типа доступа можно воспользоваться https://dev.1c-bitrix.ru/rest_help/general/access_name.php
			},
			{
				TASK_ID: 38,
				ACCESS_CODE: 'U2' //доступ для пользователя с ID=35, для получения названия типа доступа можно воспользоваться https://dev.1c-bitrix.ru/rest_help/general/access_name.php
			}
			]
	},
	function (result)
	{
		if (result.error())
			console.error(result.error());
		else
			console.dir(result.data());
	}
);</pre>

</div>

<!------->

<br><br>							
        </div>
        </body>
        </html>