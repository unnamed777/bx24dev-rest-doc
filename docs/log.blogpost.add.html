<html>
        <head>
            <title>log.blogpost.add</title>
            <link href="style.css" type="text/css" rel="stylesheet"/>
        </head>
        <body>
        <h1 class="title">log.blogpost.add <a class="original-doc-link" href="https://dev.1c-bitrix.ru/rest_help/log/log_blogpost_add.php" target="_blank">↗︎</a></h1>
        <div class="content">
            
								<p id="tab-panel-title"></p> 

<p class="note_blue">
Scope: <span class="bg_blue">log</span> Права на выполнение: <span class="bg_orange">для всех</span>
</p>

<div class="tab">

<h3 class="tab-title">Описание</h3>

<p>Добавляет в <b>Ленту новостей</b> сообщение от имени текущего пользователя.</p>

<h4>Запрос:</h4>
<pre class="syntax">https://my.bitrix24.ru/rest/log.blogpost.add.json?POST_MESSAGE=Hello%2C%20world!&amp;auth=d9a76e2929b7bc1ff21aee9c0ce7e3e2
</pre>


<h4>Ответ:</h4>
<pre class="syntax">{"result":true}
</pre>

</div>

<!------->

<div class="tab">

<h3 class="tab-title">Параметры</h3>

<table class="tnormal" width="100%">
	<tbody>
		<tr><th width="15%">Параметр</th><th>Описание</th></tr>
  
<tr><td>USER_ID</td><td>ID автора записи (опционально, по умолчанию - текущий пользователь, другое значение доступно только администратору в коробочной версии).</td></tr>		

<tr><td>POST_MESSAGE</td>	<td>Текст сообщения.</td></tr>

<tr><td>POST_TITLE</td><td>Заголовок сообщения (опционально).</td></tr>

<tr><td>DEST</td><td>Права на просмотр сообщения (опционально), по умолчанию - <code>array("UA")</code> - всем авторизованным пользователям.
<br>
Можно использовать значения:
<ul>
<li><b><code>SG&lt;X&gt;</code> </b> - рабочая группа, например SG1 - рабочая группа с идентификатором 1;</li>
<li><b><code>U&lt;X&gt;</code> </b> - пользователь, например U45 - пользователь с идентификатором 45;</li>
<li><b><code>DR&lt;X&gt;</code></b> - отдел, включая подразделы, например DR23 - раздел с идентификатором 23;</li>
<li><b><code>UA</code></b> - все авторизованные пользователи.</li>
<li><b><code>G&lt;X&gt;</code></b> - группа пользователей, например G2 - группа пользователей с идентификатором 2.</li>
</ul>
</td>	</tr>

<tr><td>SPERM</td><td>Права на просмотр сообщения (опционально), по умолчанию - <code>array("UA")</code> - всем авторизованным пользователям. 
<br>Данный параметр поддерживается, но удобнее применять  <b>DEST</b>.</td>	</tr>		

<tr><td>FILES</td><td>Файлы, массив значений, описанный по правилам, приведенным <a class="link" href="https://dev.1c-bitrix.ru/rest_help/js_library/rest/files.php" target="_blank">тут.</a></td></tr>		

<tr><td>IMPORTANT</td><td>По умолчанию N. Сообщение ленты публикуется как "важное".</td></tr>	

<tr><td>IMPORTANT_DATE_END</td><td>Указывается значение даты/времени, до которого сообщение будет считаться важным.</td></tr>	
	</tbody>
</table>



</div>

<!------->
<div class="tab">

<h3 class="tab-title">Пример</h3>

<pre class="syntax" rel="example">BX.rest.callMethod('log.blogpost.add', {POST_TITLE: 'заголовок', POST_MESSAGE: 'текст', DEST: ['SG1', 'U2'] }).
then()
</pre>

<pre class="syntax" rel="example">BX24.callMethod('log.blogpost.add', {POST_MESSAGE: 'Hello, world!'}, function(r){
	if(!r.error())
	{
		alert('OK!');
	}
	else
	{
		throw r.error();
	}
});
</pre>

</div>

<!------->
<div class="tab">

<h3 class="tab-title">Смотрите также</h3>

<a class="link" href="http://dev.1c-bitrix.ru/community/blogs/wladart/rest_logblogpostadd.php" target="_blank">Использование метода REST API log.blogpost.add</a> (блог разработчика)

</div>

<!------->
<br><br>							
        </div>
        </body>
        </html>